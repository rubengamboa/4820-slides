<!DOCTYPE html>
<html>
<head>
  <title>COSC 4820 Database Systems</title>
  <meta charset="utf-8">
  <meta name="description" content="COSC 4820 Database Systems">
  <meta name="author" content="Ruben Gamboa">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="libraries/widgets/bootstrap/css/bootstrap.css"></link>
<link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>COSC 4820 Database Systems</h1>
    <h2>High-Level Database Models</h2>
    <p>Ruben Gamboa<br/>Associate Professor</p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <article data-timings="">
    <style>
.title-slide {
     background-color: #EDE0CF; /* CBE7A5; #EDE0CF; ; #CA9F9D*/
     background-image: url(assets/img/uw-logo-large.png);
     background-repeat: no-repeat;
     background-position: center top;
   }
</style>

<h2>About this Chapter</h2>

<ul>
<li>The focus of this chapter is on <strong>modeling the real world using database schemas</strong></li>
<li>So we have a specific real-world situation</li>
<li>The goal is to find a schema that can be used to describe this situation
<br><br></li>
<li>Remember, all we have to work with is tables!</li>
<li>That&#39;s bad, because the real world is much more complex than a bunch of tables
<br><br></li>
<li>In practice, we use higher-level data models</li>
<li>The reason is that we want to have more flexibility during modeling</li>
<li>So we want more powerful languages to describe the real world, but still be able to
convert designs into a relational schema</li>
<li>Among the choices are <strong>Entity-Relationship (E/R) Diagrams</strong>, the <strong>Unified Modeling
Language (UML)</strong>,  and the <strong>Object Description Language (ODL)</strong></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-2" style="background:;">
  <hgroup>
    <h1>Entity/Relationship Model</h1>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-3" style="background:;">
  <hgroup>
    <h2>The Entity/Relationship Model</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>The <strong>Entity/Relationship (E/R) Model</strong> is the classic high-level database design tool</li>
<li>The model is represented using an <strong>E/R Diagram</strong>
<br><br></li>
<li>There are three different concepts in E/R Diagrams

<ol>
<li>Entity (sets)</li>
<li>Attributes</li>
<li>Relationships</li>
</ol></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Entity Sets</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>An <strong>entity</strong> is an abstract object</li>
<li>Generally, this will correspond to a concrete object in the real world, e.g., a contract,
a person, a car
<br><br></li>
<li>An <strong>entity set</strong> is a collection of similar entities, e.g., all UW contracts, 
all persons working at UW, etc.
<br><br></li>
<li>There is a very clear analogy between

<ul>
<li>entity sets and classes</li>
<li>entities and objects</li>
</ul></li>
<li>You can get far using your intuition from object-oriented programming here</li>
<li>The only difference is that entities have data, but no methods</li>
<li>Go ahead, think of them as C structs!</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h2>Attributes</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Entity sets have <strong>attributes</strong>, which are the properties of the entities in that entity set</li>
<li>All entities in an entity set have the same attributes</li>
<li>That&#39;s what we mean by &quot;similar entities&quot; in an entity set
<br><br></li>
<li>Of course, attributes of entity sets are just like attributes of relations</li>
<li>This is one place where it&#39;s easier to think of the tables than the entity sets, because we
can think in terms of rows and columns
<br><br></li>
<li>Note that entities have values for the attributes in their entity set</li>
<li>The values are of a given type or domain</li>
<li>We will only consider scalar types (e.g., integer, string, date)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2>Relationships</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><strong>Relationships</strong> are connections among two or more entity sets</li>
<li>A relationship could also be a connection between an entity set and itself
<br><br></li>
<li>For example, we have the entity sets

<ul>
<li><code>Movies</code></li>
<li><code>MovieStars</code></li>
</ul></li>
<li>A relationship between them could be called <code>StarsIn</code></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>E/R Diagrams</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>An <strong>E/R Diagram</strong> is a graph that shows entity sets, attributes and relationships

<ul>
<li>Entity sets are represented by <strong>rectangles</strong></li>
<li>Attributes are <strong>ovals</strong></li>
<li>Relationships are <strong>diamonds</strong>
<br><br></li>
</ul></li>
<li>Edges connect

<ul>
<li>Entity sets and their attributes</li>
<li>Relationships and the entity sets involved in them</li>
</ul></li>
</ul>

<ul class = "build incremental">
<li>Note in particular

<ul>
<li>There is <strong>never</strong> an edge between two entity sets</li>
<li>There is <strong>never</strong> an edge between two relationships</li>
<li>There is <strong>never</strong> an edge between two attributes</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>E/R Diagram for Movies Schema</h2>
  </hgroup>
  <article data-timings="">
    <div class="centered">
    <img src="assets/img/erd-movies.png" title="E/R Diagram for Movies Schema" alt="E/R Diagram for Movies Schema">
</div>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>Multiplicity of Relationships</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Suppose we have a relationship between entity sets</li>
<li>How many entities on each entity set can be involved in a single instance of the relationship?
<br><br></li>
<li>E.g., suppose we have a relationship between <code>Advisors</code> and <code>Students</code>

<ul>
<li>An advisor may have many students they advise</li>
<li>A student should have only one advisor
<br><br></li>
</ul></li>
<li>Or suppose we have a relationship between <code>Students</code> and <code>Courses</code>

<ul>
<li>A student may be taking many courses </li>
<li>And a course may (should?) have many students
<br><br></li>
</ul></li>
<li>Or suppose we have a relationship between <code>Universities</code> and <code>Presidents</code>

<ul>
<li>A university can have at most one president</li>
<li>And a president can work in only one university</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2>Multiplicity of Relationships</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>These cases lead to the following notation</li>
<li>Suppose \(R\) is a relationship between entity sets \(E\) and \(F\)

<ul>
<li>If each entity in \(E\) can be connected to at most one member of \(F\), we say
\(R\) is <strong>many-to-one</strong> from \(E\) to \(F\)</li>
<li>Likewise, if each entity in \(F\) can be connected to at most one member of \(E\),
we say that \(R\) is <strong>many-to-one</strong> from \(F\) to \(E\)</li>
<li>If \(R\) is many-to-one from \(E\) to \(F\) and from \(F\) to \(E\), we call it <strong>one-to-one</strong></li>
<li>If none of these hold, we say \(R\) is <strong>many-to-many</strong></li>
</ul></li>
<li>This possibilities describe the possible <strong>multiplicity</strong> of entities in a relationship</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-11" style="background:;">
  <hgroup>
    <h2>Multiplicity of Relationships</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Arrows are used in the E-R diagram to indicate multiplicity in relationships</li>
<li>The arrow always goes <strong>from</strong> the relationship <strong>to</strong> an entity set</li>
<li>The arrow indicates that that entity set is on the <strong>one</strong> side of the relationship</li>
<li>But the arrow means <strong>at most one</strong></li>
<li>There is no guarantee that there is actually one right now (e.g., a university may
(temporarily) not have a president)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h2>Multiplicity of Relationships</h2>
  </hgroup>
  <article data-timings="">
    <div class="centered">
    <img src="assets/img/erd-movies.png" title="Many-to-One Relationship" alt="Many-to-One Relationship">
    <br>
    <br>
    <img src="assets/img/erd-one-to-one.png" title="One-to-One Relationship" alt="One-to-One Relationship">
</div>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-13" style="background:;">
  <hgroup>
    <h2>Ternary (and Higher) Relationships</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Occasionally, we will want to model a relationship among three (or more) entity sets

<ul>
<li>Law firms organize their records (and billing) under <strong>Attorney-Client-Matter</strong>a</li>
<li>A studio may hire an actor to appear in a movie, resulting in <strong>Studio-MovieStar-Movie</strong></li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-14" style="background:;">
  <hgroup>
    <h2>E/R Diagram for Ternary (and Higher) Relationships</h2>
  </hgroup>
  <article data-timings="">
    <div class="centered">
    <img src="assets/img/erd-ternary.png" title="Ternary Relationship" alt="Ternary Relationship">
</div>

<ul>
<li>Note the meaning of the arrow into <code>Studios</code></li>
<li>If you know the <code>Movie</code> and the <code>MovieStar</code>, then only one <code>Studio</code> can be associated with them</li>
<li>But a different <code>Studio</code> may have a contract with the same <code>MovieStar</code> but in a different <code>Movie</code></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-15" style="background:;">
  <hgroup>
    <h2>Unary Relationships and Roles</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>It is fairly common to have relationships between an entity set <strong>and itself</strong></li>
<li>For example, movies have sequels</li>
<li>Or students can be advisors of other students</li>
<li>Or a person have be a spouse of another person
<br><br></li>
<li>Usually, the relationship is <strong>asymmetric</strong>

<ul>
<li>E.g., <em>Empire Strikes Back</em> is a sequel of <em>Star Wars</em></li>
<li>But <em>Star Wars</em> is <strong>not</strong> a sequel of <em>Empire Strikes Back</em>
<br><br></li>
</ul></li>
<li>So when we draw the E/R diagram, we have to label each edge, to show the <strong>role</strong> of the given participant

<ul>
<li>E.g., the role may be <em>sequel</em> and <em>original</em></li>
<li>Or <em>advisor</em> and <em>advisee</em></li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-16" style="background:;">
  <hgroup>
    <h2>Unary Relationships and Roles</h2>
  </hgroup>
  <article data-timings="">
    <div class="centered">
    <img src="assets/img/erd-roles.png" title="Relationship Roles" alt="Relationship Roles">
    <br><br>
    <img src="assets/img/erd-roles-2.png" title="Relationship Roles" alt="Relationship Roles">
</div>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-17" style="background:;">
  <hgroup>
    <h2>Converting Ternary (and Higher) Relationships to Binary Relationships</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Although the E/R model supports ternary (and higher) relationships, it is sometimes useful to convert such relationships
to binary relationships only</li>
<li>Partly, this is because binary relationships are simpler</li>
<li>It&#39;s also because some other notations only allow binary relationships
<br><br></li>
<li>Luckily, it&#39;s easy to do the conversion</li>
<li>Suppose \(R\) is a relationship among \(E\), \(F\), and \(G\)</li>
<li>Create a new entity set \(R_E\)</li>
<li>Connect \(R_E\) with the entity sets \(E\), \(F\), and \(G\)</li>
<li>Each of those connections is binary</li>
<li>And each entity in \(R_E\) corresponds to a relationship in \(R\)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-18" style="background:;">
  <hgroup>
    <h2>Converting Ternary (and Higher) Relationships to Binary Relationships</h2>
  </hgroup>
  <article data-timings="">
    <div class="centered">
    <img src="assets/img/erd-roles-2.png" title="Relationship Roles" alt="Relationship Roles">
    <img src="assets/img/erd-ternary-to-binary.png" title="Converting Ternary to Binary Relationships" 
         alt="Converting Ternary to Binary Relationships">
</div>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-19" style="background:;">
  <hgroup>
    <h2>Attributes on Relationships</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Although it may appear unnatural at first, it is very common to have attributes on relationships, not just entity sets</li>
<li>Examples:

<ul>
<li>The <code>WorksIn</code> relationship may have an associated <code>Salary</code> attribute</li>
<li>The <code>ProjectMember</code> relationship may have <code>PctEffort</code></li>
<li>The <code>RecipeIngredient</code> relationship may have <code>Amount</code>
<br><br></li>
</ul></li>
<li>These are indicated the same way as attributes on entity sets</li>
<li>I.e., there is an edge between the attribute and the relationship</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-20" style="background:;">
  <hgroup>
    <h2>Attributes on Relationships</h2>
  </hgroup>
  <article data-timings="">
    <div class="centered">
    <img src="assets/img/erd-relationship-attribute.png" title="Relationship Attributes" alt="Relationship Attributes">
</div>

<ul>
<li>Note: You can always avoid relationship attributes by adding extra entity sets</li>
<li>But this is seldom necessary (or wise)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-21" style="background:;">
  <hgroup>
    <h2>Subclasses in the E/R Model</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>It is extremely common for an entity set to be just like another entity set, but with some more attributes</li>
<li>For example, in the university, there may be entity sets for <code>Students</code> and <code>Faculty</code></li>
<li>Both entity sets will have name, address, phone number, etc.</li>
<li><strong>In addition</strong>, 

<ul>
<li>Students may have a major, degree program, etc.</li>
<li>Faculty may have salary, highest degree earned, etc.
<br><br></li>
</ul></li>
<li>It&#39;s natural to represent this using subclasses</li>
<li>The attributes in common are placed in <code>Person</code></li>
<li>Then the entity sets <code>Students</code> and <code>Faculty</code> <strong>extend</strong> <code>Person</code>, adding their own attributes
<br><br></li>
<li>In the E/R diagram, this is signified by a special type of relationship that is a <strong>triangle</strong> instead of a diamond</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-22" style="background:;">
  <hgroup>
    <h2>Subclasses in the E/R as Opposed to the Object-Oriented Model</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>There is a major difference between subclasses in the E/R and OO models
<br><br></li>
<li>Suppose \(A\) is a superclass, and \(A_1\), \(A_2\), and \(A_3\) are subclasses</li>
<li>You have to make two decisions

<ul>
<li><strong>Coverage:</strong> Does every \(A\) have to be one of \(A_1\), \(A_2\), or \(A_3\)?</li>
<li><strong>Exclusivity:</strong> Can an \(A_1\) also be an \(A_2\) or an \(A_3\)?
<br><br></li>
</ul></li>
<li>In OOP, we can actually do this

<ul>
<li><strong>Coverage:</strong> If \(A\) is abstract, then yes -- otherwise, no</li>
<li><strong>Exclusivity:</strong> Typically not, but in C++, yes (by further subclassing)</li>
<li>Oh, and Java (and modern OO languages) uses interfaces to get around <strong>exclusivity</strong></li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-23" style="background:;">
  <hgroup>
    <h2>Subclasses in the E/R Model</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>In databases, the assumptions are that

<ul>
<li><strong>Coverage:</strong> No, an \(A\) does not have to be one of the \(A_i\)</li>
<li><strong>Exclusivity:</strong> No, an entity can be an \(A\), an \(A_i\) and an \(A_j\) all at the same time</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-24" style="background:;">
  <hgroup>
    <h2>Subclasses in the E/R Model</h2>
  </hgroup>
  <article data-timings="">
    <div class="centered">
    <img src="assets/img/erd-subclasses.png" title="E/R Subclasses" alt="E/R Subclasses">
</div>

<ul>
<li>Note that a movie may be something other than a cartoon or a murder-mystery</li>
<li>Also, a movie may be <strong>both</strong> a cartoon and a murder-mystery!</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-25" style="background:;">
  <hgroup>
    <h1>Design Principles</h1>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-26" style="background:;">
  <hgroup>
    <h2>Design Principles</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Now we&#39;ll turn our attention to <strong>design principles</strong></li>
<li>E/R diagrams are a tool to describe different designs
<br><br></li>
<li>The same real-world situation may be modeled in radically different E/R diagrams</li>
<li>The important question is, <strong>how can we compare different designs?</strong></li>
<li>In other words, <strong>what makes one design better than another?</strong>
<br><br></li>
<li>We&#39;ll (try to) answer these questions by identifying important design principles</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-27" style="background:;">
  <hgroup>
    <h2>Faithfulness</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>First and foremost, the design should reflect the <strong>real world</strong>
<br><br></li>
<li>An entity set \(E\) should have attribute \(A\) if and only if that attribute really exists in the real world for that
entity set
<br><br></li>
<li>Likewise, the <strong>multiplicities</strong> of relationships must reflect the real world</li>
</ul>

<ul class = "build incremental">
<li>Don&#39;t be fooled!</li>
<li>This isn&#39;t technical, but it <strong>is</strong> extremely difficult</li>
<li>It may take years to fully understand a particular aspect of the real world well enough to design a good database</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-28" style="background:;">
  <hgroup>
    <h2>Redundancy</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Avoid redundancy at (almost) all costs
<br><br></li>
<li>Everything we said about redundancy for tables is still applicable
<br><br></li>
<li>And there is an extra complication</li>
<li>There can be redundancy between an attribute and a relationship

<ul>
<li>Student has an Advisor relationship with Faculty</li>
<li>Student has an attribute called Advisor</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-29" style="background:;">
  <hgroup>
    <h2>Redundancy of Relationships</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Relationships also present an extra opportunity for redundancy</li>
<li>E.g., consider the relationships Parent and GrandParent
<br><br></li>
<li>The problem with having both of these relationship is obvious
<br><br></li>
<li>Even here, though, there is a subtlety</li>
<li>What if we sometimes don&#39;t know all the Parents, but we do know some reliable facts about GrandParents?</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-30" style="background:;">
  <hgroup>
    <h2>Simplicity</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><p>Hoare&#39;s Law of Large Problems:</p>

<blockquote>
<p>Inside every large problem is a small problem struggling to get out.</p>
</blockquote></li>
<li><p>But never forget H.L. Mencken&#39;s take:</p>

<blockquote>
<p>For every complex problem there is an answer that is clear, simple, and wrong.</p>
</blockquote></li>
<li><p>Bottom line: If two solutions work, pick the simpler one, but only if it <strong>really</strong> works</p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-31" style="background:;">
  <hgroup>
    <h2>Attributes vs. Entity Sets (or Relationships)</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>It is easy to add an attribute to an existing entity set</li>
<li>In general, attributes are lightweight
<br><br></li>
<li>The problem is that sometimes an attribute does not work:

<ul>
<li>It may have nested attributes (especially if there are FDs between the attributes)</li>
<li>Different values of the attribute may have natural relationships</li>
<li>A single value of the attribute may be involved in many-one or many-many relationships with other entity sets
<br><br></li>
</ul></li>
<li>In general: Err on the side of having entity sets</li>
<li>This heuristic works because we will be naturally biased in favor of attributes!</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-32" style="background:;">
  <hgroup>
    <h2>Example: Historical Market Data</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Take a very simple example</li>
<li>We want to store market data, which looks like this</li>
</ul>

<table><thead>
<tr>
<th>Ticker</th>
<th>Company</th>
<th>Date</th>
<th>Price</th>
</tr>
</thead><tbody>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>2/18/15</td>
<td>128.71</td>
</tr>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>2/17/15</td>
<td>127.83</td>
</tr>
<tr>
<td>MSFT</td>
<td>Microsoft Corporation</td>
<td>2/18/15</td>
<td>43.53</td>
</tr>
<tr>
<td>MSFT</td>
<td>Microsoft Corporation</td>
<td>2/17/15</td>
<td>43.58</td>
</tr>
<tr>
<td>C</td>
<td>Citigroup Inc.</td>
<td>2/18/15</td>
<td>51.42</td>
</tr>
<tr>
<td>C</td>
<td>Citigroup Inc.</td>
<td>2/17/15</td>
<td>51.69</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-33" style="background:;">
  <hgroup>
    <h2>Example: Historical Market Data</h2>
  </hgroup>
  <article data-timings="">
    <p class="centered">
    <img src="assets/img/aapl-chart.png" alt="Chart of AAPL" title="Chart of AAPL" class="img-responsive">
</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-34" style="background:;">
  <hgroup>
    <h2>Example: Historical Market Data</h2>
  </hgroup>
  <article data-timings="">
    <p class="centered">
    <img src="assets/img/market-data-1.png" alt="Market Data ERD" title="Market Data ERD" class="img-responsive">
</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-35" style="background:;">
  <hgroup>
    <h2>Example: Historical Market Data</h2>
  </hgroup>
  <article data-timings="">
    <p class="centered">
    <img src="assets/img/market-data-2.png" alt="Market Data ERD" title="Market Data ERD" class="img-responsive">
</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-36" style="background:;">
  <hgroup>
    <h2>Example: Historical Market Data</h2>
  </hgroup>
  <article data-timings="">
    <p class="centered">
    <img src="assets/img/market-data-2b.png" alt="Market Data ERD" title="Market Data ERD" class="img-responsive">
</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-37" style="background:;">
  <hgroup>
    <h2>Example: Historical Market Data</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Another complication: Splits</li>
</ul>

<table><thead>
<tr>
<th>Ticker</th>
<th>Company</th>
<th>Date</th>
<th>Price</th>
</tr>
</thead><tbody>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>6/05/14</td>
<td>647.35</td>
</tr>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>6/06/14</td>
<td>647.57</td>
</tr>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>6/09/14</td>
<td>93.70</td>
</tr>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>6/10/14</td>
<td>94.25</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-38" style="background:;">
  <hgroup>
    <h2>Example: Historical Market Data</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Yet another complication: Dividends</li>
</ul>

<table><thead>
<tr>
<th>Ticker</th>
<th>Company</th>
<th>Date</th>
<th>Price</th>
</tr>
</thead><tbody>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>2/03/15</td>
<td>118.65</td>
</tr>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>2/04/15</td>
<td>119.56</td>
</tr>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>2/05/15</td>
<td>119.94</td>
</tr>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>2/06/15</td>
<td>118.93</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-39" style="background:;">
  <hgroup>
    <h2>Example: Historical Market Data</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Yet another complication: Acquisitions (Beats)</li>
</ul>

<table><thead>
<tr>
<th>Ticker</th>
<th>Company</th>
<th>Date</th>
<th>Price</th>
</tr>
</thead><tbody>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>5/23/14</td>
<td>614.13</td>
</tr>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>5/27/14</td>
<td>625.63</td>
</tr>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>5/28/14</td>
<td>624.01</td>
</tr>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>5/29/14</td>
<td>635.38</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-40" style="background:;">
  <hgroup>
    <h2>Example: Historical Market Data</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Yet another complication: Spinoffs (Apperian)</li>
</ul>

<table><thead>
<tr>
<th>Ticker</th>
<th>Company</th>
<th>Date</th>
<th>Price</th>
</tr>
</thead><tbody>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>1/13/09</td>
<td>87.71</td>
</tr>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>1/14/09</td>
<td>85.33</td>
</tr>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>1/15/09</td>
<td>83.38</td>
</tr>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>1/16/09</td>
<td>82.33</td>
</tr>
</tbody></table>

<p>Not very exciting: But read up on AT&amp;T&#39;s breakup in 1984!</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-41" style="background:;">
  <hgroup>
    <h2>Example: Historical Market Data</h2>
  </hgroup>
  <article data-timings="">
    <p class="centered">
    <img src="assets/img/market-data-3.png" alt="Market Data ERD" title="Market Data ERD" class="img-responsive">
</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-42" style="background:;">
  <hgroup>
    <h2>Example: Historical Market Data</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Even More Complications: Ticker Symbols and Exchanges</li>
</ul>

<table><thead>
<tr>
<th>Ticker</th>
<th>Company</th>
<th>Date</th>
<th>Price</th>
<th>Exchange</th>
</tr>
</thead><tbody>
<tr>
<td>AAPL</td>
<td>Apple Inc.</td>
<td>2/18/15</td>
<td>128.71</td>
<td>NMS</td>
</tr>
<tr>
<td>AAPL34.SA</td>
<td>Apple Inc.</td>
<td>2/18/15</td>
<td>36.61</td>
<td>SAO</td>
</tr>
<tr>
<td>AAPL.MX</td>
<td>Apple Inc.</td>
<td>2/18/15</td>
<td>1,911.41</td>
<td>MEX</td>
</tr>
<tr>
<td>AAPL.SW</td>
<td>APPLE</td>
<td>2/18/15</td>
<td>120.50</td>
<td>EBS</td>
</tr>
<tr>
<td>AAPL.BA</td>
<td>Apple Inc.</td>
<td>2/18/15</td>
<td>155.00</td>
<td>BUE</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-43" style="background:;">
  <hgroup>
    <h2>Example: Historical Market Data</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Even More Complications: Ticker Symbols</li>
</ul>

<table><thead>
<tr>
<th>Ticker</th>
<th>Company</th>
<th>Date</th>
<th>Price</th>
<th>Exchange</th>
</tr>
</thead><tbody>
<tr>
<td>C</td>
<td>Chrysler Corporation</td>
<td>1997</td>
<td></td>
<td>NYSE</td>
</tr>
<tr>
<td>DCX</td>
<td>DaimlerChrysler AG</td>
<td>1998</td>
<td></td>
<td>NYSE</td>
</tr>
<tr>
<td>FCAU</td>
<td>Fiat Chrysler</td>
<td>10/13/14</td>
<td>9.55</td>
<td>NYSE</td>
</tr>
<tr>
<td>C</td>
<td>Citigroup Inc.</td>
<td>1998</td>
<td></td>
<td>NYSE</td>
</tr>
<tr>
<td>C</td>
<td>Corn Futures</td>
<td>1960</td>
<td></td>
<td>CME</td>
</tr>
</tbody></table>

<p>There are CUSIP (Committee on Uniform Securities Identification Procedures) symbols, which 
give a unique identifier for each security traded in North America:</p>

<ul>
<li>037833100 - Apple</li>
<li>172967101 - Citigroup</li>
</ul>

<p>But, you guessed it.  CUSIPs change over time, so you need another entity set to handle &quot;CUSIP chaining&quot;</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-44" style="background:;">
  <hgroup>
    <h2>Example: Historical Market Data</h2>
  </hgroup>
  <article data-timings="">
    <p>Did we mention AAPL?</p>

<ul>
<li>Apple Computer Inc., on 1/3/77</li>
<li>Apple Inc., 1/9/07</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-45" style="background:;">
  <hgroup>
    <h2>Example: Historical Market Data</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>One More Complication: Things change</li>
<li>AAPL is trading at 138.72 on 2/18/15
<br><br></li>
<li>No, wait!</li>
<li>That was a typo!!!</li>
<li>I meant 128.72 on 2/18/15
<br><br></li>
<li>So what if my target for APPL was 135 and I sold all my AAPL holdings?</li>
<li>And what if I am working for a hedge fund that just lost $100M selling its AAPL stock because the sell order
triggered a &quot;flash crash&quot;
<br><br></li>
<li>Maybe all data points in the historical data should have a date and corrections history attached to them</li>
<li>The same may be said for names, etc.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-46" style="background:;">
  <hgroup>
    <h1>Constraints in the E/R Model</h1>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-47" style="background:;">
  <hgroup>
    <h2>Constraints in the E/R Model</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>We saw that constraints play an important role in the relational model</li>
<li>We want to represent constraints in the E/R model, too
<br><br></li>
<li>We&#39;ve already seen some of this: <strong>arrowheads represent multiplicity</strong></li>
<li>This is actually a type of constraint</li>
<li>It&#39;s a bit like an FD, but it goes across relations!</li>
<li>(We&#39;ll model it later as an FD in the relationship table)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-48" style="background:;">
  <hgroup>
    <h2>Keys in the E/R Model</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Keys are another very important constraint</li>
<li>It has the same meaning as in the relational model</li>
<li>And it&#39;s represented in the same way

<ul>
<li>The attributes in the key are underlined
<br><br></li>
</ul></li>
<li>There is one extra subtlety</li>
<li>If \(A\) is an entity set and \(A_1\), \(A_2\), \(A_3\) are subclasses (or subentity sets)

<ul>
<li>There must be a key in \(A\) (with the attributes of \(A\))</li>
<li>The key of \(A_i\) is \(\pi_{\mathcal{A_i}}(A)\)</li>
</ul></li>
<li>I.e., if you have an instance of the superclass, you can get the associated instance(s) in the subclasse(s)</li>
<li>In particular, \(A \bowtie A_1\) returns all the information for the entities in \(A_1\)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-49" style="background:;">
  <hgroup>
    <h2>Keys in the E/R Model</h2>
  </hgroup>
  <article data-timings="">
    <p class="centered">
    <img src="assets/img/erd-keys.png" alt="E/R Diagram Keys" title="E/R Diagram Keys" class="img-responsive">
</p>

<p>Note: It is purely a coincidence that the key attributes are always above the entity set!</p>

<p>In general, this will not be the case</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-50" style="background:;">
  <hgroup>
    <h2>Referential Integrity</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><strong>Referential Integrity</strong> is a crucial constraint</li>
<li>Basically, it says that if you point to something, it really exists

<ul>
<li>In programming: No garbage pointers</li>
<li>In the web: No <em>404 Not Found</em> errors
<br><br></li>
</ul></li>
<li>You may (should) remember how we specified this constraint using relational algebra
<br><br></li>
<li>The basic referential integrity is <strong>assumed</strong> in E/R Diagrams</li>
<li>If there is a many-to-one relationship from \(E\) to \(F\), we take it for granted that

<ul>
<li>if an instance \(e\) of \(E\) claims to be associated with an instance \(f\) of \(F\),</li>
<li>then \(f\) actually exists</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-51" style="background:;">
  <hgroup>
    <h2>Referential Integrity</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>In E/R diagrams, <strong>referential integrity</strong> also refers to a similar (but different) notion
<br><br></li>
<li>Again, suppose there is a many-to-one relationship from \(E\) to \(F\)</li>
<li>And consider an entity \(e\) of \(E\)</li>
<li>Does there need to be an entity \(f\) in \(F\) that \(e\) is associated with?
<br><br></li>
<li>If the answer is &quot;yes&quot;, then this is also a sort of referential integrity constraint</li>
<li>It is denoted in E/R Diagrams by <strong>rounded</strong> arrowheads</li>
</ul>

<p class="centered">
    <img src="assets/img/erd-referential-integrity.png" alt="E/R Referential Integrity" title="E/R Referential Integrity" class="img-responsive">
</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-52" style="background:;">
  <hgroup>
    <h2>Degree Constraints</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>What the &quot;referential integrity&quot; really says is that <strong>every \(e\) in \(E\) must be associated with at least one \(f\) in \(F\)</strong></li>
<li>In addition, since the relationship is many-to-one, then we know \(e\) is associated with <strong>exactly one</strong> \(f\)
<br><br></li>
<li>This idea can be generalized to different <strong>degree constraings</strong></li>
<li>E.g., each \(e\) in \(E\) must be associated with <strong>at most 10</strong> \(f_i\) in \(F\)</li>
<li>Or each \(e\) in \(E\) must be associated with <strong>at least 3</strong> \(f_i\) in \(F\)</li>
</ul>

<p class="centered">
    <img src="assets/img/erd-degree-constraints.png" alt="E/R Degree Constraints" title="E/R Degree Constraints" class="img-responsive">
</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-53" style="background:;">
  <hgroup>
    <h1>Weak Entity Sets</h1>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-54" style="background:;">
  <hgroup>
    <h2>Weak Entity Sets</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Consider an entity set \(E\) with key \(A_1\), \(A_2\), \(A_3\)</li>
<li>It is possible that \(A_1\) is actually a key for some other entity set \(F\)</li>
<li>In this case, we say that \(E\) is a <strong>weak entity set</strong>
<br><br></li>
<li>That&#39;s actually the <strong>definition</strong> of weak entity set</li>
<li>It is an entity set whose key is a superset of the key of some other entity set</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-55" style="background:;">
  <hgroup>
    <h2>Weak Entity Sets: Because of Mergers</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>For example, UW has many students</li>
<li>Each student has a unique ID, the W#</li>
<li>As far as UW is concerned, the ID is unique
<br><br></li>
<li>But what if we want to have a database that combines students from many universities</li>
<li>Then the key for the Student table may consist of

<ul>
<li>University key</li>
<li>Student key (relative to the university)</li>
</ul></li>
</ul>

<table><thead>
<tr>
<th>University</th>
<th>StudentID</th>
<th>Name</th>
</tr>
</thead><tbody>
<tr>
<td>UWyo</td>
<td>W12345678</td>
<td>John Galt</td>
</tr>
<tr>
<td>UWyo</td>
<td>W24683579</td>
<td>Francisco d&#39;Anconia</td>
</tr>
<tr>
<td>TAMU</td>
<td>010-CS-193a</td>
<td>Dagny Taggart</td>
</tr>
<tr>
<td>UTAus</td>
<td>a73e9fxe$3</td>
<td>Hank Rearden</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-56" style="background:;">
  <hgroup>
    <h2>Weak Entity Sets: Because of Hierarchies</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Another classic reason for weak entity sets is hierarchies</li>
<li>Consider a <strong>purchase order</strong></li>
<li>It contains

<ul>
<li>one or more line items, each with a product, quantity, and price</li>
<li>subtotal</li>
<li>tax</li>
<li>total
<br><br></li>
</ul></li>
<li>The line items <strong>belong to</strong> the purchase order</li>
<li>So their key contains the key of the purchase order</li>
<li>E.g., lime item #2 of purchase order #429</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-57" style="background:;">
  <hgroup>
    <h2>Keys for Entity Sets</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>The key for an entity set consists of

<ul>
<li>Some of its own attributes (e.g., StudentID)</li>
<li>Keys from entity sets that can be <strong>reached</strong> from the weak entity set (e.g., University)
<br><br></li>
</ul></li>
<li>By &quot;reached&quot;, we are referring to <strong>relationships</strong></li>
<li>The relationship between a weak entity set and the &quot;owning&quot; entity set is called a <strong>supporting relationship</strong></li>
<li>The &quot;owning&quot; entity set is called a <strong>supporting entity set</strong></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-58" style="background:;">
  <hgroup>
    <h2>Supporting Relationships and Entity Sets</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><p>Suppose we have </p>

<ul>
<li>a weak entity set \(E\)</li>
<li>with supporting relationship \(R\)</li>
<li>and supporting entity set \(F\)</li>
</ul></li>
<li><p>Then the following requirements must hold</p>

<ol>
<li>\(R\) is a binary many-to-one or one-to-one relationship from \(E\) to \(F\) (i.e., there is at most one owner)</li>
<li>There must be at least one \(F\) associated with each \(E\) (i.e., there is exactly one owner)</li>
<li>The key of \(E\) must have some attributes that form a key in \(F\)</li>
<li>If \(F\) is also a weak entity, then its key will have some attributes from its supporting entity set, and those
will also appear in \(E\)
<br><br></li>
</ol></li>
<li><p>Note that there may be more than one supporting relationship between \(E\) and \(F\), but this is quite rare</p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-59" style="background:;">
  <hgroup>
    <h2>Weak Entity Sets in E/R Diagrams</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Weak entity sets are denoted in <strong>double rectangles</strong></li>
<li>Supporting relationships are denoted as <strong>double diamonds</strong></li>
<li>The (underlined) key of a weak entity set does not include the attributes from its supporting entity set</li>
</ul>

<p class="centered">
    <img src="assets/img/erd-weak-entity-set.png" alt="E/R Weak Entity Sets" title="E/R Weak Entity Sets" class="img-responsive">
</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-60" style="background:;">
  <hgroup>
    <h1>Converting E/R Diagrams to Relations</h1>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-61" style="background:;">
  <hgroup>
    <h2>Converting E/R Diagrams to Relations</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>One of the reasons that E/R diagrams are so useful is that they can be mechanically converted into 
equivalent relations</li>
<li>So we can convert our high-level design to a low-level implementation
<br><br></li>
<li>The basic strategy is 

<ul>
<li>turn each entity set into a relation with the same name and attributes</li>
<li>turn a relationship into an entity set with attributes corresponding to the primary keys of the connected entity sets,
as well as any attributes defined for the relationship itself</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-62" style="background:;">
  <hgroup>
    <h2>Converting E/R Diagrams to Relations</h2>
  </hgroup>
  <article data-timings="">
    <p class="centered">
    <img src="assets/img/erd-keys.png" alt="E/R Diagram Keys" title="E/R Diagram Keys" class="img-responsive">
</p>

<pre><code>Movies(_title_, _year_, length, genre)
Stars(_name_, address)
StarsIn(_title_, _year_, _name_)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-63" style="background:;">
  <hgroup>
    <h2>Converting E/R Diagrams to Relations</h2>
  </hgroup>
  <article data-timings="">
    <p class="centered">
    <img src="assets/img/erd-keys.png" alt="E/R Diagram Keys" title="E/R Diagram Keys" class="img-responsive">
</p>

<pre><code>Movies(_title_, _year_, length, genre)
Studios(_name_, address)
Owns(_title_, _year_, _name_)
</code></pre>

<p>With the following FD to account for the constraint on Studios:</p>

<ul>
<li>title, year \(\rightarrow\) name</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-64" style="background:;">
  <hgroup>
    <h2>Converting E/R Diagrams to Relations</h2>
  </hgroup>
  <article data-timings="">
    <p class="centered">
    <img src="assets/img/erd-keys.png" alt="E/R Diagram Keys" title="E/R Diagram Keys" class="img-responsive">
</p>

<p>For many-to-one relationships, it is common to merge the relationship table with the &quot;many&quot; side:</p>

<pre><code>Movies(_title_, _year_, length, genre, name)
Studios(_name_, address)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-65" style="background:;">
  <hgroup>
    <h2>Handling Weak Entity Sets</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Weak entity sets can also be converted to relations, but with a little more care
<br><br></li>
<li>The list of attributes must also include the attributes in the key of the supporting relation
<br><br></li>
<li>Whenever a relationship table refers to a weak entity set, it must do so with the <strong>entire key</strong>, including
the part contributed by the supporting relation
<br><br></li>
<li>There is no need to create the supporting relationship table

<ul>
<li>It is a many-to-one or one-to-one table, so it can be merged into the weak entity set, as we did before</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-66" style="background:;">
  <hgroup>
    <h2>Handling Weak Entity Sets</h2>
  </hgroup>
  <article data-timings="">
    <p class="centered">
    <img src="assets/img/erd-translate-weak-entity-set.png" alt="E/R Weak Entity Set" title="E/R Weak Entity Set" class="img-responsive">
</p>

<pre><code>Studios(_name_, address)
Crews(_number_, _studioName_, crewChief)
</code></pre>

<p><br></p>

<p>Notice there is no need to create the relationship table</p>

<pre><code>UnitOf(_number_, _studioName_, _name_)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-67" style="background:;">
  <hgroup>
    <h2>Handling Subclasses (or Subentity Sets)</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Care must also be taken with the conversion of E/R diagrams that involve <strong>inheritance</strong></li>
<li>This particular case is a little controversial</li>
<li>There is no widespread agreement on the best way to do it
<br><br></li>
<li>The book suggests three approaches

<ul>
<li>The E/R viewpoint</li>
<li>A single class</li>
<li>NULL values</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-68" style="background:;">
  <hgroup>
    <h2>Subclasses: The E/R Viewpoint</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Suppose we have root \(A\) and subclasses \(A_1\), \(A_2\), and \(A_3\)
<br><br></li>
<li>We create a relation for each entity set</li>
<li>Each of the \(A_i\) must have all the attributes in the key of \(A\)</li>
<li>I.e., the \(A_i\) explicitly inherit the key attributes from \(A\)</li>
<li>That becomes the key of the \(A_i\), so if an \(A_i\) participates
in a relationship, the entire key is used to identify an entity</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-69" style="background:;">
  <hgroup>
    <h2>Subclasses: The E/R Viewpoint</h2>
  </hgroup>
  <article data-timings="">
    <p class="centered">
    <img src="assets/img/erd-subclasses.png" alt="E/R Inheritance" title="E/R Inheritance" class="img-responsive">
</p>

<pre><code>Movies(_title_, _year_, length, genre)
Cartoons(_title_, _year_)
MurderMysteries(_title_, _year_, weapon)
</code></pre>

<p><strong>Important:</strong> </p>

<ul>
<li>Each entity must exist in the <code>Movies</code> table</li>
<li>In addition, an entity may also exist in <code>Cartoons</code>, <code>MurdermMysteries</code>, or both</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-70" style="background:;">
  <hgroup>
    <h2>Subclasses: The Single Class Approach</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>The idea behind this is to enumerate all possible subclasses and create a table for each
<br><br></li>
<li>In our case, the &quot;possible subclasses&quot; are

<ul>
<li>Movies</li>
<li>CartoonMovies</li>
<li>MurderMysteryMovies</li>
<li>CartoonMurderMysteryMovies
<br><br></li>
</ul></li>
<li>Yes, that is building a table for each <strong>subtree</strong> of the hierarchy that includes the root</li>
<li>(And, by the way, it&#39;s not much different than what C++ does)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-71" style="background:;">
  <hgroup>
    <h2>Subclasses: Using NULL Values</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>The traditional way of doing this is to construct <strong>just one relation</strong></li>
<li>This relation would be named after the root, and have the attributes of <strong>all</strong> subclasses</li>
<li>E.g., \(A\) would have the attributes of \(A\), \(A_1\), \(A_2\), and \(A_3\)</li>
<li>In addition, there is an extra attribute (often called &quot;type&quot;) that says whether this instance
is of type \(A_1\), \(A_2\), or \(A_3\)</li>
<li>If multiple combinations are possible, then &quot;type&quot; needs to be more complicated</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-72" style="background:;">
  <hgroup>
    <h2>Subclasses: Using NULL Values</h2>
  </hgroup>
  <article data-timings="">
    <p class="centered">
    <img src="assets/img/erd-subclasses.png" alt="E/R Inheritance" title="E/R Inheritance" class="img-responsive">
</p>

<pre><code>Movies(_title_, _year_, movieType, length, genre, weapon)
</code></pre>

<p>Note that the attribute &quot;weapon&quot; would have NULLs for all entities except murder mysteries!</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-73" style="background:;">
  <hgroup>
    <h2>Handling Subclasses (or Subentity Sets)</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>The traditional (single-table) approach has some advantages

<ul>
<li>There is only one row for each entity</li>
<li>You can get all information for a given entity in just one lookup, without having to join
lots of tables</li>
</ul></li>
<li>But it also has disadvantages

<ul>
<li>The tuples are <strong>big</strong>, so it is more expensive to read a tuple from disk</li>
<li>Most queries may use only some of the attributes, so the rest is wasted
<br><br></li>
</ul></li>
<li>Generally speaking, database administrators prefer the single-table approach, while OO programmers
prefer the &quot;one table per entity set&quot; approach</li>
<li>Almost nobody prefers the &quot;one table per subtree&quot; approach, except in very small cases</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-74" style="background:;">
  <hgroup>
    <h1>Unified Modeling Language</h1>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title=''>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='Entity/Relationship Model'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='The Entity/Relationship Model'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Entity Sets'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='Attributes'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='Relationships'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='E/R Diagrams'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='E/R Diagram for Movies Schema'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='Multiplicity of Relationships'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='Multiplicity of Relationships'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='Multiplicity of Relationships'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='Multiplicity of Relationships'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='Ternary (and Higher) Relationships'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='E/R Diagram for Ternary (and Higher) Relationships'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='Unary Relationships and Roles'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='Unary Relationships and Roles'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Converting Ternary (and Higher) Relationships to Binary Relationships'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='Converting Ternary (and Higher) Relationships to Binary Relationships'>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='Attributes on Relationships'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='Attributes on Relationships'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='Subclasses in the E/R Model'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='Subclasses in the E/R as Opposed to the Object-Oriented Model'>
         22
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title='Subclasses in the E/R Model'>
         23
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='Subclasses in the E/R Model'>
         24
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=25 title='Design Principles'>
         25
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=26 title='Design Principles'>
         26
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=27 title='Faithfulness'>
         27
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=28 title='Redundancy'>
         28
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=29 title='Redundancy of Relationships'>
         29
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=30 title='Simplicity'>
         30
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=31 title='Attributes vs. Entity Sets (or Relationships)'>
         31
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=32 title='Example: Historical Market Data'>
         32
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=33 title='Example: Historical Market Data'>
         33
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=34 title='Example: Historical Market Data'>
         34
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=35 title='Example: Historical Market Data'>
         35
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=36 title='Example: Historical Market Data'>
         36
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=37 title='Example: Historical Market Data'>
         37
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=38 title='Example: Historical Market Data'>
         38
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=39 title='Example: Historical Market Data'>
         39
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=40 title='Example: Historical Market Data'>
         40
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=41 title='Example: Historical Market Data'>
         41
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=42 title='Example: Historical Market Data'>
         42
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=43 title='Example: Historical Market Data'>
         43
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=44 title='Example: Historical Market Data'>
         44
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=45 title='Example: Historical Market Data'>
         45
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=46 title='Constraints in the E/R Model'>
         46
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=47 title='Constraints in the E/R Model'>
         47
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=48 title='Keys in the E/R Model'>
         48
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=49 title='Keys in the E/R Model'>
         49
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=50 title='Referential Integrity'>
         50
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=51 title='Referential Integrity'>
         51
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=52 title='Degree Constraints'>
         52
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=53 title='Weak Entity Sets'>
         53
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=54 title='Weak Entity Sets'>
         54
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=55 title='Weak Entity Sets: Because of Mergers'>
         55
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=56 title='Weak Entity Sets: Because of Hierarchies'>
         56
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=57 title='Keys for Entity Sets'>
         57
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=58 title='Supporting Relationships and Entity Sets'>
         58
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=59 title='Weak Entity Sets in E/R Diagrams'>
         59
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=60 title='Converting E/R Diagrams to Relations'>
         60
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=61 title='Converting E/R Diagrams to Relations'>
         61
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=62 title='Converting E/R Diagrams to Relations'>
         62
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=63 title='Converting E/R Diagrams to Relations'>
         63
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=64 title='Converting E/R Diagrams to Relations'>
         64
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=65 title='Handling Weak Entity Sets'>
         65
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=66 title='Handling Weak Entity Sets'>
         66
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=67 title='Handling Subclasses (or Subentity Sets)'>
         67
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=68 title='Subclasses: The E/R Viewpoint'>
         68
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=69 title='Subclasses: The E/R Viewpoint'>
         69
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=70 title='Subclasses: The Single Class Approach'>
         70
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=71 title='Subclasses: Using NULL Values'>
         71
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=72 title='Subclasses: Using NULL Values'>
         72
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=73 title='Handling Subclasses (or Subentity Sets)'>
         73
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=74 title='Unified Modeling Language'>
         74
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  <script src="libraries/widgets/bootstrap/js/bootstrap.min.js"></script>
<script src="libraries/widgets/bootstrap/js/bootbox.min.js"></script>

  <!-- MathJax: Fall back to local if CDN offline but local image fonts are not supported (saves >100MB) -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
    });
  </script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <!-- <script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script> -->
  <script>window.MathJax || document.write('<script type="text/x-mathjax-config">MathJax.Hub.Config({"HTML-CSS":{imageFont:null}});<\/script><script src="libraries/widgets/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><\/script>')
</script>
<script>  
  $(function (){ 
    $("#example").popover(); 
    $("[rel='tooltip']").tooltip(); 
  });  
  </script>  
  <!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>